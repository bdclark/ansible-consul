---
driver:
  name: vagrant

provisioner:
  name: ansible_push
  ansible_config: test/ansible.cfg
  verbose: v
  diff: true
  chef_bootstrap_url: nil

verifier:
  name: inspec

platforms:
  - name: ubuntu-14.04
  - name: ubuntu-16.04
  - name: centos-6.7
    provisioner:
      extra_vars:
        consul_dnsmasq_upstream_servers:
          - 8.8.8.8
  - name: centos-7.2
    provisioner:
      extra_vars:
      consul_dnsmasq_networkmanager_enabled: true

suites:
  - name: default
    provisioner:
      playbook: test/playbooks/default.yml
  - name: tls
    provisioner:
      playbook: test/playbooks/tls.yml
